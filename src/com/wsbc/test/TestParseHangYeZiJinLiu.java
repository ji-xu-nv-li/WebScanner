package com.wsbc.test;

import java.math.BigDecimal;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.LinkedHashMap;
import java.util.Map;
import java.util.Map.Entry;

import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
import com.wsbc.util.file.WsbcFileUtil;

public class TestParseHangYeZiJinLiu {

	public static void main(String[] args) {
//		parseHangYeZiJinLiu();
		changeDataToJson();
	}
	
	private static void parseHangYeZiJinLiu() {
		String data = WsbcFileUtil.readFile("");
		JSONArray list = JSONArray.parseArray(data.split("----------")[0]);
		StringBuilder sb = new StringBuilder();
		StringBuilder error = new StringBuilder();
		Map<String, String> columns = new LinkedHashMap<String, String>();
		columns.put("name", "名称");
		columns.put("priceLimitPercent", "今日涨跌幅");
		columns.put("mainNetInflow", "主力净流入净额");
		columns.put("largestNetInflow", "超大单净流入净额");
		columns.put("largeNetInflow", "大单净流入净额");
		columns.put("middleNetInflow", "中单净流入净额");
		columns.put("smallNetInflow", "小单净流入净额");
		columns.put("largestStock", "今日主力净流入最大股");
		for (Entry<String, String> entry : columns.entrySet()) {
			sb.append(entry.getValue() + "\t");
		}
		sb.append("\n");
		
		for (int index = 0; index < list.size(); index++) {
			JSONArray trs = list.getJSONObject(index).getJSONArray("trs");
			for (int k = 0; k < trs.size(); k++) {
				JSONObject map = trs.getJSONObject(k);
				boolean flag = false;
				for (Entry<String, String> entry : columns.entrySet()) {
					String key = entry.getKey();
					String value = map.getString(key);
					if (value == null) {
						key = entry.getValue();
						value = map.getString(key);
					}
					if (value == null && !flag) {
						error.append(map.toJSONString()+"\n");
						sb.append("\t");
						flag = true;
					} else {
						if (key.contains("流入净额") || key.contains("NetInflow")) {
							if (value.contains("亿")) {
								BigDecimal bigDecimal = BigDecimal.valueOf(Double.valueOf(value.replace("亿", "")));
								bigDecimal = bigDecimal.multiply(new BigDecimal(10000));
								value = bigDecimal.toString();
							} else {
								value = value.replace("万", "");
							}
						}
						sb.append(value + "\t");
					}
				}
				sb.append("\n");
			}
		}
		System.out.println(sb);
		SimpleDateFormat sdf = new SimpleDateFormat("yyyyMMdd HH:mm:ss");
		String date = sdf.format(Calendar.getInstance().getTime());
		System.out.println("时间：" + date);
	}
	
	private static void changeDataToJson() {
		String data = "日期	酿酒行业	医药制造	医疗行业	电子元件	电子信息	通讯行业	有色金属	软件服务	券商信托	银行	保险	房地产	文化传媒	水泥建材	家电行业	钢铁行业	化学原料	工程建设	贵金属	玻璃陶瓷	化纤行业	环保工程	非金属材料	煤炭行业	多元金融	旅游酒店	珠宝首饰	农药兽药	汽车行业	民航机场	机械行业	交运设备	金属制品	商业百货	包装材料	装修装饰	材料行业	园林工程	高速公路	安防设备	工艺商品	塑料制品	交运物流	汽车服务	仪器仪表	石油行业	造纸印刷	国际贸易	电信运营	文教休闲	港口水运	纺织服装	橡胶制品	农牧饲渔	木业家具	公用事业	船舶制造	航天航空	采掘行业	食品饮料	综合行业	化肥行业	专用设备	化学制品	小金属	能源金属	输配电气	电力行业\r\n" + 
				"汇总	87.87 	-293.59 	83.16 	-57.54 	19.48 	-135.44 	-131.68 	128.25 	73.95 	63.88 	-366.94 	74.47 	-77.09 	-149.27 	140.19 	264.29 	-56.65 	-361.76 	73.72 	-28.13 	-95.34 	-111.59 	307.33 	-40.93 	-25.17 	30.64 	-23.58 	-40.81 	172.98 	212.61 	-185.42 	-79.02 	106.40 	2.98 	136.25 	45.27 	-58.47 	0.07 	-0.02 	32.37 	0.02 	-66.00 	-107.49 	7.93 	71.37 	87.67 	-82.34 	176.31 	-18.00 	76.74 	288.29 	211.36 	31.68 	-186.89 	-20.28 	-109.53 	278.64 	340.21 	-22.27 	417.14 	166.07 	76.08 	-454.67 	-81.79 	0.00 	113.90 	-85.74 	179.99 \r\n" + 
				"20211013	0.00 	1.88 	-5.55 	0.00 	19.81 	-17.80 	0.00 	2.75 	-100.00 	28.46 	-7.95 	-5.42 	49.92 	-6.70 	-27.93 	71.37 	0.00 	-3.43 	-57.33 	-112.30 	81.54 	72.36 	-27.06 	0.00 	0.01 	0.00 	0.00 	-8.02 	0.00 	0.00 	100.00 	0.00 	2.76 	-0.01 	98.60 	-0.01 	19.32 	0.00 	-0.01 	6.29 	0.00 	-0.01 	41.45 	0.00 	-67.51 	0.00 	4.71 	0.00 	0.00 	79.12 	-22.01 	-17.93 	0.01 	-100.00 	0.00 	1.47 	-49.25 	-46.19 	0.00 	57.15 	27.38 	3.86 	-54.00 	0.00 		-100.00 	40.33 	100.00 \r\n" + 
				"20211014	100.00 	34.60 	0.00 	0.00 	34.63 	0.00 	100.00 	-12.52 	0.00 	100.00 	-81.62 	28.00 	-28.49 	0.00 	0.00 	8.52 	-18.55 	-1.41 	40.73 	0.00 	0.00 	-34.15 	-5.89 	-24.31 	0.00 	0.01 	26.56 	-0.01 	0.00 	0.00 	-100.00 	-16.26 	0.00 	-0.01 	0.00 	0.00 	36.71 	0.01 	-0.01 	0.00 	0.01 	-0.01 	-43.52 	-0.01 	-124.29 	-12.81 	0.00 	0.00 	0.01 	-22.26 	100.00 	30.11 	0.00 	81.54 	0.01 	5.87 	-36.10 	52.15 	-13.47 	0.00 	-14.97 	-2.99 	0.00 	-34.09 		0.00 	-100.00 	-6.91 \r\n" + 
				"20211015	-9.26 	-68.97 	100.00 	100.00 	59.94 	-46.73 	-7.14 	1.16 	0.00 	-0.12 	24.30 	28.06 	42.02 	0.00 	-6.25 	39.15 	100.00 	2.85 	-30.23 	0.00 	14.44 	-14.35 	45.74 	0.00 	-27.55 	57.66 	-14.73 	-0.92 	78.01 	-0.01 	0.00 	-19.87 	12.72 	-45.67 	18.49 	-0.01 	-100.00 	0.00 	0.00 	0.00 	0.01 	4.36 	50.74 	0.01 	45.83 	-44.22 	-23.22 	38.85 	-0.01 	86.97 	0.00 	17.24 	0.00 	0.00 	-45.17 	-34.92 	-2.58 	-38.36 	0.00 	-100.00 	2.59 	15.25 	-1.11 	0.00 		37.93 	0.00 	0.00 \r\n" + 
				"20211018	0.00 	0.00 	0.00 	0.00 	-100.00 	-48.80 	0.00 	-25.16 	0.00 	0.00 	0.00 	100.00 	14.86 	-48.86 	73.82 	-24.13 	0.00 	-89.49 	-23.48 	-86.81 	1.12 	-7.35 	-21.28 	0.00 	0.00 	-27.71 	-35.41 	0.00 	-90.12 	-21.31 	-100.00 	0.00 	0.00 	22.02 	27.26 	0.00 	-6.04 	0.01 	0.00 	0.00 	0.00 	33.57 	-43.26 	0.00 	130.27 	-83.42 	-9.27 	0.00 	25.01 	-1.75 	2.29 	60.92 	0.00 	-18.16 	5.25 	40.44 	-3.73 	37.11 	0.00 	20.38 	24.35 	0.00 	42.78 	0.00 		0.00 	0.00 	100.00 \r\n" + 
				"20211019	0.00 	0.00 	-41.56 	-100.00 	31.81 	0.00 	0.00 	-5.25 	-41.67 	0.00 	-100.00 	0.00 	26.40 	73.94 	-9.26 	4.16 	-12.34 	0.00 	59.93 	-30.55 	26.39 	-46.43 	0.00 	57.67 	0.01 	27.08 	0.00 	0.00 	100.00 	15.87 	-2.29 	0.01 	37.83 	0.00 	-28.96 	0.00 	-39.56 	0.00 	0.00 	11.45 	0.00 	100.00 	-42.28 	0.00 	-34.64 	-100.00 	0.00 	0.00 	0.00 	-53.07 	-38.71 	-32.81 	49.62 	0.00 	-0.01 	-25.22 	0.00 	19.43 	-32.41 	0.00 	59.19 	-29.63 	-83.18 	100.00 		0.00 	100.00 	-22.69 \r\n" + 
				"20211020	-100.00 	-100.00 	-100.00 	-79.50 	0.02 	108.60 	0.00 	100.00 	0.00 	0.00 	-14.31 	14.55 	-10.76 	90.00 	0.00 	17.09 	100.00 	9.49 	29.53 	55.79 	-85.88 	0.00 	0.01 	-100.00 	0.01 	62.13 	0.00 	0.01 	0.00 	0.00 	0.00 	0.01 	-27.67 	0.00 	43.13 	0.00 	100.00 	0.00 	-0.01 	60.68 	0.00 	11.69 	45.62 	0.00 	16.43 	34.70 	0.00 	0.00 	23.76 	9.95 	0.00 	5.18 	0.00 	-35.45 	-0.01 	-60.24 	0.01 	0.00 	-15.03 	0.00 	22.44 	100.00 	-100.00 	0.00 		74.02 	100.00 	-100.00 \r\n" + 
				"20211021	56.78 	0.00 	8.29 	0.00 	0.00 	21.82 	-100.00 	0.00 	36.25 	-86.50 	100.00 	0.00 	40.06 	-6.70 	0.00 	100.00 	72.36 	-17.12 	0.01 	30.57 	0.00 	-15.50 	36.23 	2.92 	0.00 	-40.68 	0.00 	0.00 	0.00 	63.04 	-1.29 	23.00 	41.06 	0.01 	-19.07 	0.00 	0.00 	0.00 	0.01 	11.13 	0.00 	-84.58 	-129.81 	-0.01 	-94.07 	80.33 	0.00 	0.01 	-0.01 	-72.04 	20.31 	-27.09 	0.00 	0.00 	-0.01 	1.45 	22.05 	66.53 	22.56 	18.47 	23.27 	100.00 	0.00 	0.00 		0.00 	100.00 	0.00 \r\n" + 
				"20211022	-20.79 	-24.60 	0.00 	100.00 	0.00 	100.00 	0.00 	-38.72 	39.07 	-5.44 	9.23 	100.00 	0.01 	-83.56 	0.00 	-100.00 	0.00 	0.00 	0.00 	-17.00 	-71.50 	10.38 	26.64 	0.00 	-0.01 	45.31 	0.00 	7.76 	24.19 	-0.50 	0.00 	0.00 	-38.36 	0.00 	-40.65 	-0.01 	100.00 	0.00 	0.00 	-0.01 	0.00 	-88.70 	0.00 	0.00 	54.50 	100.00 	0.00 	-9.70 	2.13 	0.00 	44.74 	-9.21 	13.44 	-26.97 	0.00 	-100.00 	0.00 	-0.01 	34.29 	45.68 	35.98 		0.00 	0.00 		100.00 	-100.00 	-4.66 \r\n" + 
				"20211025	0.00 	0.00 	31.47 	-100.00 	12.12 	-29.97 	-100.00 	-100.00 	100.00 	-40.29 	-0.61 	0.00 	20.35 	11.59 	14.93 	-46.10 	-72.33 	0.00 	0.00 	-34.06 	0.00 	0.01 	37.34 	0.00 	-0.01 	-55.38 	0.00 	-0.01 	0.00 	0.00 	-37.18 	0.00 	-3.79 	-62.28 	0.00 	-0.01 	100.00 	0.01 	0.00 	-43.67 	0.01 	-22.24 	23.61 	0.00 	0.00 	54.60 	13.29 	41.51 	0.00 	1.02 	-3.32 	-29.95 	-0.01 	0.00 	46.14 	-13.72 	-48.97 	90.68 	0.00 	-14.65 	-100.00 	59.16 	-44.50 	-82.05 		0.00 	0.00 	-100.00 \r\n" + 
				"20211026	-10.93 	0.00 	-60.80 	0.00 	37.98 	-54.82 	-100.00 	100.00 	-100.00 	67.77 	-100.00 	-70.21 	-9.24 	-88.15 	-17.27 	-21.24 	-100.00 	-55.28 	-16.02 	0.00 	-18.57 	83.81 	0.00 	0.00 	0.01 	0.00 	0.00 	-9.29 	0.00 	-0.01 	0.00 	-86.44 	0.00 	27.40 	0.00 	0.00 	-100.00 	0.00 	0.00 	-13.55 	-0.01 	0.00 	29.51 	0.00 	-29.54 	0.00 	-4.21 	0.00 	0.00 	25.20 	0.00 	-5.41 	1.59 	108.76 	0.61 	-3.92 	40.23 	8.14 	-51.65 	0.00 	0.00 	0.00 	-18.78 	0.00 		19.07 	0.00 	14.83 \r\n" + 
				"20211027	100.00 	0.00 	62.85 	0.00 	0.00 	0.00 	0.00 	100.00 	0.00 	0.00 	-100.00 	-65.90 	0.00 	-32.74 	-17.94 	26.33 	0.00 	0.00 	0.00 	42.28 	-24.49 	-40.72 	75.32 	-100.00 	-20.33 	57.85 	0.00 	-11.46 	0.00 	-36.43 	90.32 	21.66 	-22.02 	14.13 	-41.74 	33.82 	0.00 	0.01 	0.00 	-2.00 	0.00 	0.00 	-18.70 	0.00 	-57.67 	-8.39 	10.30 	-11.93 	-13.34 	27.17 	65.15 	75.53 	-59.68 	-26.46 	9.93 	42.96 	71.31 	42.48 	69.83 	-8.38 	0.00 	0.00 	7.44 	0.00 		0.00 	0.00 	0.00 \r\n" + 
				"20211028	-26.91 	0.00 	51.32 	0.00 	-100.00 	-8.50 	0.00 	0.00 	-65.34 	0.00 	0.00 	0.00 	-39.46 	-0.55 	-4.31 	0.00 	0.00 	0.00 	0.00 	5.14 	100.00 	-14.26 	112.36 	0.00 	0.00 	0.00 	0.00 	-18.83 	0.00 	0.00 	0.00 	28.66 	-41.13 	46.05 	32.27 	11.50 	-100.00 	-0.01 	0.00 	-6.40 	0.00 	0.00 	-32.26 	-0.01 	12.73 	-37.59 	-17.91 	20.20 	-44.22 	0.00 	73.12 	0.00 	22.62 	100.00 	16.59 	0.00 	33.96 	0.00 	-31.75 	27.67 	-43.95 	100.00 	-100.00 	-100.00 		0.00 	-100.00 	0.00 \r\n" + 
				"20211029	-100.00 	67.69 	100.00 	0.00 	-36.95 	-3.89 	33.93 	0.00 	100.00 	0.00 	0.00 	0.00 	-14.72 	-31.90 	100.00 	-30.13 	-21.70 	100.00 	9.13 	37.23 	-5.81 	95.67 	-15.83 	-12.18 	0.00 	0.00 	0.00 	-17.67 	100.00 	-25.83 	2.39 	0.01 	92.09 	-38.31 	-58.76 	-0.01 	-100.00 	0.01 	0.00 	0.00 	0.00 	37.24 	-26.16 	0.00 	-51.36 	21.01 	0.01 	3.80 	0.00 	0.00 	100.00 	33.59 	3.49 	-41.30 	-39.71 	84.94 	0.00 	100.00 	-0.09 	0.00 	0.00 	0.00 	0.00 	111.21 		85.66 	46.16 	100.00 \r\n" + 
				"20211101	57.42 	-62.29 	0.00 	-7.60 	0.00 	6.82 	0.00 	-36.21 	86.43 	0.00 	-0.01 	-71.28 	-17.62 	4.80 	-100.00 	100.00 	23.06 	-30.39 	-0.01 	-29.12 	-38.55 	-8.04 	-5.26 	-6.40 	0.00 	7.80 	0.00 	-4.27 	1.68 	0.00 	0.00 	0.00 	43.93 	48.22 	8.22 	0.00 	100.00 	0.00 	0.00 	29.44 	0.00 	-100.00 	-26.09 	0.00 	-7.50 	2.73 	0.01 	39.26 	0.00 	9.58 	0.00 	-3.22 	-9.73 	-13.81 	-0.01 	0.00 	0.00 	-10.95 	0.00 	100.00 	57.74 	-44.32 	0.00 	0.00 		-100.00 	0.00 	0.00 \r\n" + 
				"20211102	-100.00 	0.00 	-110.25 	0.00 	0.00 	60.32 	100.00 	0.00 	100.00 	100.00 	100.00 	0.00 	0.00 	-21.11 	0.00 	0.00 	0.00 	-100.00 	75.55 	54.44 	29.31 	-41.65 	-8.48 	14.66 	22.68 	-100.00 	0.01 	21.90 	-0.42 	40.13 	-70.72 	-37.10 	0.00 	44.57 	0.00 	0.00 	100.00 	0.01 	0.00 	-8.64 	-0.01 	55.57 	38.70 	-0.01 	47.68 	71.12 	-39.19 	0.00 	-9.83 	0.07 	-50.44 	-10.99 	0.01 	-9.33 	0.00 	-100.00 	100.00 	0.00 	0.00 	-1.22 	0.00 	0.00 	0.00 	0.00 		-2.78 	0.00 	-78.85 \r\n" + 
				"20211103	0.00 	-43.50 	100.00 	0.00 	40.59 	0.00 	50.30 	0.00 	67.35 	-100.00 	-0.01 	-8.25 	-45.51 	17.77 	129.22 	100.00 	-1.18 	-34.06 	-34.37 	81.01 	-45.01 	68.11 	0.00 	0.00 	0.00 	0.00 	0.00 	0.00 	100.00 	0.00 	0.00 	-0.01 	-53.85 	0.00 	-4.61 	0.00 	0.00 	0.00 	0.00 	-61.88 	0.01 	8.11 	6.27 	-0.01 	49.85 	0.00 	0.01 	0.00 	0.00 	0.00 	-28.36 	2.99 	-26.44 	0.00 	0.00 	-40.76 	0.00 	34.55 	-17.57 	11.57 	0.00 	0.00 	-3.32 	0.00 		100.00 	0.00 	85.66 \r\n" + 
				"20211104	0.00 	18.63 	-100.00 	0.00 	21.96 	-54.09 	-18.86 	0.00 	0.00 	0.00 	-63.64 	-10.53 	-90.48 	14.07 	-32.35 	22.08 	-88.62 	0.00 	6.62 	-58.06 	42.36 	-36.15 	-36.48 	0.00 	0.00 	0.00 	0.00 	0.00 	100.00 	0.00 	100.00 	0.00 	-20.63 	6.64 	26.34 	-0.01 	-13.84 	0.00 	0.00 	-0.01 	0.00 	-39.88 	-6.41 	0.01 	57.03 	0.00 	0.01 	0.00 	0.00 	0.00 	86.95 	0.00 	-35.88 	0.00 	0.00 	0.00 	0.00 	44.68 	78.43 	0.00 	0.00 	-9.91 	0.00 			0.00 	-65.24 	-55.12 \r\n" + 
				"20211105	0.00 	-100.00 	8.83 	0.00 	0.00 	46.04 	0.00 	-100.00 	-100.00 	0.00 	0.00 	0.00 	59.98 	-11.25 	-12.29 	100.00 	-100.00 	0.00 	0.00 	0.00 	-86.81 	-20.44 	14.08 	0.00 	0.01 	-83.61 	0.00 	0.00 	0.00 	0.00 	-22.57 	0.00 	6.40 	-51.40 	100.00 	0.00 	0.00 	0.00 	0.00 	-0.01 	0.00 	0.00 	26.99 	0.00 	44.74 	0.00 	0.01 	19.56 	0.00 	-32.91 	-81.64 	3.67 	5.40 	-25.45 	0.01 	-55.08 	68.66 	-69.61 	-5.96 	100.00 	0.00 	-100.00 		-100.00 		0.00 	0.00 	100.00 \r\n" + 
				"20211108	41.56 	-100.00 	0.00 	-70.44 	0.00 	-74.89 	10.09 	-100.00 	27.07 	0.00 	-32.32 	74.44 	16.23 	0.00 	-1.22 	0.00 	-0.02 	-92.86 	0.00 	22.52 	0.00 	-82.01 	37.53 	76.32 	0.00 	34.15 	0.00 	0.00 	-140.36 	120.82 	-44.08 	0.00 	46.87 	-11.81 	5.06 	0.00 	-100.00 	0.00 	0.00 	13.59 	0.00 	-0.01 	12.47 	-0.01 	1.30 	1.80 	0.00 	0.00 	-0.01 	-6.67 	15.80 	-20.87 	-0.26 	-100.00 	-21.31 	20.68 	27.08 	1.56 	0.00 	94.85 	72.05 	9.65 	0.00 	23.14 		0.00 	100.00 	-37.61 \r\n" + 
				"20211109	100.00 	82.97 	118.07 	0.00 	-27.91 	9.09 	0.00 	100.00 	24.79 	0.00 	0.00 	-38.99 	19.24 	0.00 	-48.96 	-100.00 	-37.33 	-38.62 	0.01 	-34.79 	-40.59 	-72.93 	81.58 	20.49 	0.00 	-0.01 	-0.01 	0.00 	0.00 	36.68 	0.00 	0.01 	-46.27 	-8.13 	-24.85 	0.01 	-55.06 	0.01 	0.00 	49.46 	0.00 	27.58 	27.57 	7.99 	77.59 	12.35 	0.00 	0.00 	0.00 	29.84 	42.03 	64.41 	0.01 	-1.42 	35.27 	49.23 	-0.01 	0.00 	0.00 	-15.58 	0.00 	14.01 	0.00 	0.00 		-100.00 	-100.00 	12.45 \r\n" + 
				"20211110	0.00 	0.00 	0.00 	0.00 	23.27 	-48.64 	0.00 	100.00 	0.00 	0.00 	0.00 	0.00 	-9.88 	-29.92 	100.00 	-2.81 	0.00 	0.00 	30.66 	23.84 	-24.05 	23.54 	-24.52 	11.18 	-0.01 	46.04 	-0.01 	0.00 	-100.00 	20.16 	-100.00 	7.30 	76.46 	11.56 	-4.48 	0.00 	0.00 	0.01 	0.01 	-13.51 	0.00 	-0.01 	-41.94 	-0.01 	0.00 	-4.54 	-16.89 	34.74 	-10.90 	-14.24 	-20.16 	19.80 	72.69 	0.00 	-21.62 	63.25 	-0.01 	35.60 	-22.72 	0.00 	0.00 	-100.00 	-100.00 	0.00 		0.00 	-40.28 	72.89 \r\n" + 
				"20211111	0.00 	0.00 	-79.51 	100.00 	2.21 	-100.00 	-100.00 	42.20 	-100.00 	0.00 	-100.00 	0.00 	-100.00 	0.00 	0.00 	0.00 	100.00 	-11.44 	-17.01 	21.74 	50.76 	-31.49 	-14.70 	18.72 	0.01 	0.00 	0.01 	0.00 	0.00 	0.00 	0.00 	0.00 	0.00 	0.00 	0.00 	0.00 	0.00 	0.00 	-0.01 	0.01 	0.00 	-8.68 	0.01 	-0.01 	0.00 	0.00 	0.00 	0.01 	9.41 	10.76 	-17.46 	55.40 	-5.20 	-78.84 	-6.24 	14.04 	55.99 	-27.58 	-36.73 	81.20 	0.00 	-39.00 	0.00 	0.00 	0.00 	0.00 	-66.71 	0.00 \r\n" + 
				"20211112																																																																				\r\n" + 
				"20211113																																																																				\r\n" + 
				"20211114																																																																				\r\n" + 
				"20211115																																																																				\r\n" + 
				"20211116																																																																				\r\n" + 
				"20211117																																																																				\r\n" + 
				"20211118																																																																				\r\n" + 
				"20211119																																																																				\r\n" + 
				"20211120																																																																				\r\n" + 
				"20211121																																																																				\r\n" + 
				"20211122																																																																				\r\n" + 
				"20211123																																																																				\r\n" + 
				"20211124																																																																				\r\n" + 
				"20211125																																																																				\r\n" + 
				"20211126																																																																				\r\n" + 
				"20211127																																																																				\r\n" + 
				"20211128																																																																				\r\n" + 
				"20211129																																																																				\r\n" + 
				"20211130																																																																				\r\n" + 
				"";
		String[] datas = data.split("\r\n");
		String[] ss = datas[0].split("\t",-1);
		JSONArray array = new JSONArray();
		for (String name : ss) {
			JSONObject map = new JSONObject();
			name = name.trim();
			if ("日期".equals(name)) {
				// 跳过日期
				continue;
			}
			map.put("name", name);
			map.put("data", new JSONArray());
			array.add(map);
		}
		for (int index = 2; index < datas.length; index++) {
			ss = datas[index].split("\t", -1);
			if (datas[index].trim().equals(ss[0])) {
				continue; // 只剩下日期数据了，那就不要
			}
			for (int j = 1 ; j < ss.length; j++) { // 日期跳过
				JSONArray d = new JSONArray();
				d.add(ss[0]); // 日期
				d.add(ss[j]); // 数据
				array.getJSONObject(j-1).getJSONArray("data").add(d);
			}
		}
		System.out.println(array.toJSONString());
		
		array = new JSONArray();
		JSONObject map = new JSONObject();
		map.put("name", "汇总");
		map.put("data", new JSONArray());
		array.add(map);
		ss = datas[0].split("\t",-1);
		String[] sums = datas[1].split("\t",-1);
		for (int index = 1; index < ss.length; index++) {
			JSONArray d = new JSONArray();
			d.add(ss[index]); // 行业类别
			d.add(sums[index]); // 汇总值
			array.getJSONObject(0).getJSONArray("data").add(d);
		}
		// 排序：汇总值由低到高
		JSONArray innerArray = array.getJSONObject(0).getJSONArray("data");
		for (int i = 0; i < innerArray.size(); i++) {
			int tempIndex = i;
			JSONArray min = innerArray.getJSONArray(i);
			for (int j = i + 1; j < innerArray.size(); j++) {
				if (Double.valueOf(min.getString(1)) >
						Double.valueOf(innerArray.getJSONArray(j).getString(1))) {
					tempIndex = j;
					min = innerArray.getJSONArray(j);
				}
			}
			innerArray.set(tempIndex, innerArray.getJSONArray(i));
			innerArray.set(i, min);
		}
		System.out.println(array.toJSONString());
	}
}
